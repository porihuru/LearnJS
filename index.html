<!--
  ファイル: index.html
  作成日時(JST): 2025-12-25 21:10:00
  VERSION(HTML): 20251225-02
  NOTE:
    - [UI-01] 右上に起動日時/HTML/CSSバージョン表示
    - [UI-02] カテゴリも枠化（ランダム/ID開始と統一）
    - [UI-03] 出題エリアを枠化（ログと同様のグループ）
    - [UI-04] 旧「解説表示/リセット/解説欄/前へ次へ」は削除
    - [UI-05] 回答後はモーダル（次へ/終了）。終了or全問終了で結果発表モーダル
-->
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"><!-- [IE-01] IEモード互換 -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>text_access - Quiz</title>
  <link rel="stylesheet" href="style.css?v=20251225-02">
</head>
<body>

  <div class="page">

    <!-- =========================
      [UI-01] ヘッダー（左:タイトル / 右:起動日時+HTML/CSS）
    ========================== -->
    <header class="topHeader">
      <div class="titleLeft">
        <div class="appTitle">text_access問題集</div>
      </div>

      <div class="titleRight">
        <div id="topInfo" class="topInfo">
          <!-- JSで起動日時を埋める -->
          起動: (未設定) / HTML: 20251225-02 / CSS: 20251225-02
        </div>
      </div>
    </header>

    <!-- =========================
      [UI-02] ツールバー（カテゴリ枠 / ランダム枠 / ID枠 / 履歴削除）
      ※ IEモードのため gap は使わず margin で間隔調整（CSS側）
    ========================== -->
    <section class="toolbar">
      <div class="toolbarRow">

        <!-- [UI-02-01] カテゴリ枠（プルダウンに件数表示） -->
        <div class="startBox" id="boxCategory">
          <span class="toolLabel">カテゴリ</span>
          <select id="categorySelect" class="select">
            <option value="__ALL__">（すべて）：全0問</option>
          </select>
        </div>

        <!-- [UI-02-02] ランダム開始枠 -->
        <div class="startBox" id="boxRandomStart">
          <input id="randomCount" class="numInput" type="number" value="10" min="1" step="1">
          <span class="toolText">問</span>
          <button id="btnRandomStart" class="btnPrimary">ランダムスタート</button>
        </div>

        <!-- [UI-02-03] ID指定開始枠（IDは数字入力のまま） -->
        <div class="startBox" id="boxIdStart">
          <span class="toolText">ID</span>
          <input id="startId" class="numInput" type="number" value="1" min="1" step="1">
          <span class="toolText">から</span>
          <input id="rangeCount" class="numInput" type="number" value="10" min="1" step="1">
          <span class="toolText">問</span>
          <button id="btnIdStart" class="btnPrimary">スタート</button>
        </div>

        <!-- [UI-02-04] 履歴削除ボタン（confirm付き） -->
        <div class="toolRight">
          <button id="btnClearHistory" class="btnDanger">履歴を削除</button>
        </div>

      </div>
    </section>

    <!-- =========================
      [UI-03] 出題グループ（枠）
      [UI-03-01] “IDから～”の領域を約10%右寄せ：quizInnerに margin-left 付与
    ========================== -->
    <section class="panelBox" id="quizPanel">
      <div class="panelTitle">出題</div>

      <div class="quizInner"><!-- [UI-03-01] 約10%右寄せ対象 -->

        <!-- [UI-06] メタ情報（ID / カテゴリ / 状態 / 累積） -->
        <div class="metaRow">
          <span class="metaItem"><span class="metaLabel">ID:</span> <span id="metaId">（未開始）</span></span>
          <span class="metaItem"><span class="metaLabel">カテゴリ:</span> <span id="metaCategory">（未開始）</span></span>
          <span class="metaItem"><span class="metaLabel">状態:</span> <span id="metaStatus">未回答</span></span>
          <span class="metaItem"><span class="metaLabel">累積:</span> <span id="metaHist">正解0回 / 不正解0回</span></span>
        </div>

        <div class="qBlock">
          <div class="qText" id="questionText">（未開始）</div>
        </div>

        <div class="choiceHint">選択肢（毎回ランダム表示 / 回答は1回のみ）</div>
        <div id="choices" class="choices"></div>

      </div>
    </section>

    <!-- =========================
      [UI-07] ロググループ（枠）
    ========================== -->
    <section class="panelBox" id="logPanel">
      <div class="panelTitle">ログ</div>
      <div id="logBox" class="logBox"></div>

      <div class="footerBar">
        <div id="versionLine" class="versionLine"></div>
        <div id="dataLine" class="dataLine"></div>
      </div>
    </section>

  </div>

  <!-- =========================
    [MODAL-01] 回答後モーダル（正誤/正解/解説/集計/次へ/終了）
    [MODAL-02] 結果発表モーダル（終了 or 全問終了）
    ※ IEモードでも動くよう、構造は単純化
  ========================== -->
  <div id="modalOverlay" class="modalOverlay" style="display:none;">
    <div class="modalBox" role="dialog" aria-modal="true">

      <div class="modalTitle" id="modalTitle">結果</div>

      <div class="modalBody" id="modalBody">
        <!-- JSで埋める -->
      </div>

      <!-- [MODAL-10] ボタン行：左=終了 右=次へ（離して配置） -->
      <div class="modalFooter" id="modalFooterAnswer" style="display:none;">
        <button id="btnModalEnd" class="btnDanger">終了</button>
        <button id="btnModalNext" class="btnPrimary">次へ</button>
      </div>

      <!-- [MODAL-20] 結果発表用フッター -->
      <div class="modalFooter" id="modalFooterResult" style="display:none;">
        <button id="btnModalClose" class="btnPrimary">閉じる</button>
      </div>

    </div>
  </div>

  <!-- JS（機能別） -->
  <script src="js/util.js?v=20251225-02"></script>
  <script src="js/state.js?v=20251225-02"></script>
  <script src="js/csv_loader.js?v=20251225-02"></script>
  <script src="js/engine.js?v=20251225-02"></script>
  <script src="js/render.js?v=20251225-02"></script>
  <script src="js/app.js?v=20251225-02"></script>
</body>
</html>